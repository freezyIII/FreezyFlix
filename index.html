<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FreezyFlix</title>
<link rel="stylesheet" href="styles.css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
<style>@import url('https://fonts.googleapis.com/css2?family=Titan+One&display=swap');</style>
<style>@import url('https://fonts.googleapis.com/css2?family=Federant&display=swap');</style>
</head>
<body class="page_index">

<header>
<a href="index.html" class="logo" aria-label="Accueil"><img src="https://i.imgur.com/7Ddaoy6.png" alt="Logo FreezyFlix" /></a>
<ul class="federant-regular">
<li><a href="index.html">Accueil</a></li>
<li><a href="#categories" id="categories-link">Cat√©gories</a></li>
<li><a href="faq.html">FAQ</a></li>
<li><a href="https://www.paypal.com/donate/?hosted_button_id=9TKRSPG4UTSJ2" class="animated-link no-underline" target="_blank">
<span>F</span><span>a</span><span>i</span><span>r</span><span>e</span> 
<span>u</span><span>n</span> 
<span>d</span><span>o</span><span>n</span></a></li></ul>

<div class="search-container">
<input type="text" id="search-input" class="search-box" placeholder="Rechercher..." />
<button class="search-icon">üîç</button>
</div>
</header>

<section class="content"><h2 class="titan-one-regular">Films √† la une</h2><div id="movieCarousel" class="movie-carousel"><div class="movie-container">
<div class="movie-item"><a href="movie-details.html?title=Minecraft, le film"><img src="https://i.imgur.com/OT3zPtV.png" loading="lazy" /><div class="resolution">1080p</div></a></div>
<div class="movie-item"><a href="movie-details.html?title=Violent Night"><img src="https://fr.web.img6.acsta.net/pictures/22/10/19/17/48/3044641.jpg" loading="lazy" /><div class="resolution">1080p</div></a></div>
<div class="movie-item"><a href="movie-details.html?title=Sonic 3, le film"><img src="https://fr.web.img4.acsta.net/img/85/e7/85e77c51c172da4aec13679210295a11.jpg" loading="lazy" /><div class="resolution">1080p</div></a></div>
<div class="movie-item"><a href="movie-details.html?title=Red One"><img src="https://fr.web.img6.acsta.net/c_310_420/img/11/4d/114d28897d8f491d67f12b943711e9b0.jpg" loading="lazy" /><div class="resolution">1080p</div></a></div>
<div class="movie-item"><a href="movie-details.html?title=Ninja Turtles: Teenage Years"><img src="https://fr.web.img4.acsta.net/pictures/23/06/28/10/49/2274361.jpg" loading="lazy" /><div class="resolution">1080p</div></a></div></div></div>
</section>

<section style="text-align:center; margin: 20px 0;">
<div id="random-movie-box" style="display:inline-block; padding: 20px 40px; border: 3px solid #00aaff; border-radius: 10px; cursor:pointer; font-weight:bold; font-size: 1.2em; color:#00aaff; user-select:none;">üé¨ Film Al√©atoire</div>
</section>

<section class="movie-grid-section">
  <h2 class="titan-one-regular">D√©couvrir d'autres films</h2>

  <div id="filter-panel" style="margin: 20px auto; max-width: 600px; padding: 15px; border-radius: 8px; background: #00aaff22; border: 2px solid #00aaff; font-family: 'Federant', cursive;">
    <div style="display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; align-items: center;">
      <div style="flex: 1 1 200px; min-width: 180px;">
        <label for="category-filter" style="color: #0077cc; font-weight: 700; display: block; margin-bottom: 6px; font-size: 1rem;">Cat√©gorie :</label>
        <select id="category-filter" style="width: 100%; padding: 8px 12px; font-size: 1rem; border: 2px solid #00aaff; border-radius: 6px; background-color: white; color: #0077cc; cursor: pointer; transition: border-color 0.3s;">
          <option value="" selected>Toutes les cat√©gories</option>
          <option value="action">Action</option>
          <option value="animation">Animation</option>
          <option value="anime">Anim√©</option>
          <option value="aventure">Aventure</option>
          <option value="com√©die">Com√©die</option>
          <option value="com√©die musicale">Com√©die musicale</option>
          <option value="detective">D√©tective</option>
          <option value="drame">Drame</option>
          <option value="fantastique">Fantastique</option>
          <option value="historique">Historique</option>
          <option value="horreur">Horreur</option>
          <option value="policier">Policier</option>
          <option value="science-fiction">Science-fiction</option>
          <option value="surnaturel">Surnaturel</option>
          <option value="thriller">Thriller</option>
        </select>
      </div>

      <div style="flex: 1 1 120px; min-width: 120px;">
        <label for="year-filter" style="color: #0077cc; font-weight: 700; display: block; margin-bottom: 6px; font-size: 1rem;">Ann√©e :</label>
        <select id="year-filter" style="width: 100%; padding: 8px 12px; font-size: 1rem; border: 2px solid #00aaff; border-radius: 6px; background-color: white; color: #0077cc; cursor: pointer; transition: border-color 0.3s;">
          <option value="all" selected>Toutes</option>
          <option value="2025">2025</option>
          <option value="2024">2024</option>
          <option value="2023">2023</option>
          <option value="2022">2022</option>
          <option value="2021">2021</option>
          <option value="2020">2020</option>
          <option value="2019">2019</option>
          <option value="2018">2018</option>
          <option value="2017">2017</option>
          <option value="2016">2016</option>
          <option value="2015">2015</option>
          <option value="2014">2014</option>
          <option value="2013">2013</option>
          <option value="2012">2012</option>
          <option value="2011">2011</option>
          <option value="2010">2010</option>
          <option value="2009">2009</option>
        </select>
      </div>

      <div style="flex: 0 0 auto; align-self: flex-end;">
        <button id="reset-filters" style="background-color: #00aaff; border: none; color: white; padding: 10px 20px; font-weight: 700; font-size: 1rem; border-radius: 6px; cursor: pointer; transition: background-color 0.3s;">
          R√©initialiser
        </button>
      </div>
    </div>
  </div>


<!--<div class="movie-grid-item" category="" data-year="">    <a href="movie-details.html?title=">    <img src=""  loading="lazy"><div class="resolution">1080p</div></a></div>-->

<div class="movie-grid">
<div class="movie-grid-item" category="Action / Animation / Anime / Aventure / Drame / Fantastique / Horreur / Science-fiction / Surnaturel / Thriller" data-year="1991">    <a href="movie-details.html?title=Akira">    <img src="https://i.imgur.com/TsDV4yF.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Com√©die / Crime / D√©tective / Drame / Policier" data-year="2014">    <a href="movie-details.html?title=Night Call">    <img src="https://i.imgur.com/05lSKAD.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Drame" data-year="2025">    <a href="movie-details.html?title=Un parfait inconnu">    <img src="https://i.imgur.com/woUXCRb.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Aventure / Drame / Guerre / Historique" data-year="2003">                         <a href="movie-details.html?title=Master and Commander : De l'autre c√¥t√© du monde">        <img src="https://i.imgur.com/qetuycf.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Drame / Horreur / Science-fiction / Thriller" data-year="">                                <a href="movie-details.html?title=La Plateforme">                                          <img src="https://i.imgur.com/pnt9cJ6.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Thriller" data-year="2017">                                                       <a href="movie-details.html?title=American Assassin">                                      <img src="https://i.imgur.com/HXelDhT.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Animation / Aventure / Com√©die / Fantastique / Science-fiction" data-year="2022"> <a href="movie-details.html?title=Sonic 2, le film">                                       <img src="https://i.imgur.com/eCkKVwa.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Aventure / Com√©die / Fantastique" data-year="2024">                               <a href="movie-details.html?title=Red One">                                                <img src="https://i.imgur.com/pDKXMz3.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Aventure / Fantastique / Science-fiction" data-year="2023">                       <a href="movie-details.html?title=Aquaman et le Royaume perdu">                            <img src="https://i.imgur.com/LTHjf0H.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Aventure / Fantastique / Science-fiction" data-year="2018">                       <a href="movie-details.html?title=Aquaman">                                                <img src="https://i.imgur.com/c05yvpE.jpeg" loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Animation / Aventure / Com√©die" data-year="2025">                                 <a href="movie-details.html?title=Minecraft, le film">                                     <img src="https://i.imgur.com/ij81S7j.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Animation / Aventure / Com√©die / Science-fiction" data-year="2024">                        <a href="movie-details.html?title=Sonic 3, le film">                                       <img src="https://i.imgur.com/7Yj3yRy.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Aventure / Com√©die musicale / Fantastique" data-year="2023">                               <a href="movie-details.html?title=Wonka">                                                  <img src="https://i.imgur.com/E8u1cWC.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Animation / Aventure / Com√©die / Com√©die Musicale / Fantastique" data-year="2018">         <a href="movie-details.html?title=Ast√©rix : Le Secret de la potion magique">               <img src="https://i.imgur.com/pHwKexK.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Animation / Aventure / Com√©die / Fantastique" data-year="2014">                   <a href="movie-details.html?title=L'√éle des Miam-nimaux : Temp√™te de boulettes g√©antes 2"> <img src="https://i.imgur.com/vWFCNbd.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Animation / Aventure / Com√©die / Fantastique" data-year="2009">                            <a href="movie-details.html?title=Temp√™te de boulettes g√©antes">                           <img src="https://i.imgur.com/HZKkI4T.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Animation / Com√©die" data-year="2024">                                                     <a href="movie-details.html?title=South Park : la fin de l'ob√©sit√©">                       <img src="https://i.imgur.com/WItI643.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Action / Animation / Aventure / Com√©die / Fantastique" data-year="2023">                   <a href="movie-details.html?title=Ninja Turtles: Teenage Years">                           <img src="https://i.imgur.com/L7gLeDh.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Animation / Com√©die / Fantastique" data-year="2023">                                       <a href="movie-details.html?title=L'√âtrange No√´l du petit Batman">                         <img src="https://i.imgur.com/49k2NVQ.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Animation / Com√©die / Fantastique / Com√©die musicale" data-year="2024">                    <a href="movie-details.html?title=Descendants : L'Ascension de Red">                       <img src="https://i.imgur.com/UB6WbZR.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Animation / Aventure / Com√©die / Fantastique" data-year="2024">                            <a href="movie-details.html?title=Garfield : H√©ros malgr√© lui">                            <img src="https://i.imgur.com/FxQKHhv.png"  loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Com√©die / Drame" data-year="2024">                                                         <a href="movie-details.html?title=Dear Santa">                                             <img src="https://i.imgur.com/GM7Qb7d.png"  loading="lazy"><div class="resolution">4K</div></a></div>
<div class="movie-grid-item" category="Action / Com√©die / Horreur / Thriller" data-year="2022">                                   <a href="movie-details.html?title=Violent Night">                                          <img src="https://i.imgur.com/PpkJr2u.jpeg" loading="lazy"><div class="resolution">1080p</div></a></div>
<div class="movie-grid-item" category="Com√©die / Horreur / Thriller" data-year="2023">                                            <a href="movie-details.html?title=There's Something in the Barn">                          <img src="https://i.imgur.com/i3Tr6jB.jpeg" loading="lazy"><div class="resolution">4K</div></a></div>
</div></section>



<script>
// Ajout de l'attribut data-title √† chaque √©l√©ment film pour faciliter la recherche
document.querySelectorAll('.movie-grid-item, .movie-item').forEach(item => {
  const link = item.querySelector('a');
  if (!link) return;

  const url = new URL(link.href, window.location.origin);
  const title = url.searchParams.get('title');
  if (title) item.setAttribute('data-title', title);
});

// Fonction pour retirer les accents
function removeAccents(str) {
  return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
}

// Fonction de filtrage par recherche texte
function filterMoviesBySearch() {
  const input = document.getElementById("search-input").value.trim().toLowerCase();
  const searchTerm = removeAccents(input);
  const movieItems = document.querySelectorAll(".movie-grid-item");
  const sectionFeatured = document.querySelector('.content');
  const sectionRandom = document.getElementById('random-movie-box').parentElement;
  const sectionDiscover = document.querySelector('.movie-grid-section');

  // üëá Masquer le panneau de filtre en cas de recherche
  document.getElementById('filter-panel').style.display = "none";

  if (!searchTerm) {
    localStorage.removeItem('searchQuery');
    movieItems.forEach(item => item.style.display = "block");
    sectionFeatured.style.display = "";
    sectionRandom.style.display = "";
    sectionDiscover.style.display = "";
    return;
  }

  localStorage.setItem('searchQuery', searchTerm);
  let visibleCount = 0;

  movieItems.forEach(item => {
    const title = removeAccents((item.getAttribute('data-title') || "").toLowerCase());
    const match = title.includes(searchTerm);
    item.style.display = match ? "block" : "none";
    if (match) visibleCount++;
  });

  sectionFeatured.style.display = "none";
  sectionRandom.style.display = "none";
  sectionDiscover.style.display = visibleCount ? "block" : "none";
}


// Recherche au clic sur l‚Äôic√¥ne loupe
document.querySelector('.search-icon').addEventListener('click', filterMoviesBySearch);
// Recherche au Enter dans le champ
document.getElementById('search-input').addEventListener('keydown', e => {
  if (e.key === 'Enter') filterMoviesBySearch();
});

// Bouton Film al√©atoire redirige vers un film al√©atoire
document.getElementById('random-movie-box').addEventListener('click', () => {
  const links = [...document.querySelectorAll('.movie-item a, .movie-grid-item a')];
  if (!links.length) return;
  const randomLink = links[Math.floor(Math.random() * links.length)].href;
  window.location.href = randomLink;
});

// Gestion du clic sur "Cat√©gories"
document.getElementById('categories-link').addEventListener('click', e => {
  e.preventDefault();
  document.querySelector('.content').style.display = 'none';
  document.getElementById('random-movie-box').parentElement.style.display = 'none';

  const sectionDiscover = document.querySelector('.movie-grid-section');
  sectionDiscover.style.display = 'block';

  document.getElementById('filter-panel').style.display = 'block';

  document.querySelectorAll('.movie-grid-item').forEach(item => item.style.display = 'block');

  document.getElementById('search-input').value = '';
  localStorage.removeItem('searchQuery');

  resetFilters();
});


// Filtrage par cat√©gorie et ann√©e
const categoryFilter = document.getElementById('category-filter');
const yearFilter = document.getElementById('year-filter');
const resetBtn = document.getElementById('reset-filters');

function filterMoviesByCategoryAndYear() {
  const selectedCategory = categoryFilter.value.toLowerCase();
  const selectedYear = yearFilter.value;

  document.querySelectorAll('.movie-grid-item').forEach(item => {
    const categories = (item.getAttribute('category') || "").toLowerCase().split(' / ').map(c => c.trim());
    const year = item.getAttribute('data-year') || "";

    const categoryMatch = !selectedCategory || categories.includes(selectedCategory);
    const yearMatch = selectedYear === 'all' || year === selectedYear;

    item.style.display = (categoryMatch && yearMatch) ? 'block' : 'none';
  });
}

function resetFilters() {
  categoryFilter.value = "";
  yearFilter.value = "all";
  filterMoviesByCategoryAndYear();
}

categoryFilter.addEventListener('change', filterMoviesByCategoryAndYear);
yearFilter.addEventListener('change', filterMoviesByCategoryAndYear);
resetBtn.addEventListener('click', resetFilters);

// Scroll vers le haut quand le champ recherche re√ßoit le focus
const searchInput = document.getElementById("search-input");
searchInput.addEventListener('focus', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
searchInput.addEventListener('keydown', () => window.scrollTo({ top: 0, behavior: 'auto' }));
document.getElementById('filter-panel').style.display = "none";

window.addEventListener('load', () => {
  if(window.location.hash === '#categories') {
    // simuler le comportement clic sur cat√©gories
    document.querySelector('.content').style.display = 'none';
    document.getElementById('random-movie-box').parentElement.style.display = 'none';
    const sectionDiscover = document.querySelector('.movie-grid-section');
    sectionDiscover.style.display = 'block';
    document.getElementById('filter-panel').style.display = 'block';
    document.querySelectorAll('.movie-grid-item').forEach(item => item.style.display = 'block');
    document.getElementById('search-input').value = '';
    localStorage.removeItem('searchQuery');
    resetFilters();
  }
});

</script>

</body>
</html>
